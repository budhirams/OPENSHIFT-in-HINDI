Banking (à¤¯à¤¾ à¤•à¤¿à¤¸à¥€ à¤­à¥€ enterprise production) environment à¤®à¥‡à¤‚ ConfigMap à¤•à¤¾ use à¤¬à¤¹à¥à¤¤ à¤…à¤²à¤— à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆ.
Waha simple HTML file mount à¤¨à¤¹à¥€à¤‚ à¤•à¤°à¤¤à¥‡ â€” à¤µà¤¹à¤¾à¤ application configuration, URLs, feature flags, policies à¤œà¥ˆà¤¸à¥€ important cheezein store à¤¹à¥‹à¤¤à¥€ à¤¹à¥ˆà¤‚à¥¤

à¤®à¥ˆà¤‚ à¤¨à¥€à¤šà¥‡ real banking examples à¤¦à¥‡ à¤°à¤¹à¤¾ à¤¹à¥‚à¤ ðŸ‘‡
ðŸ¦ Banking Environment à¤®à¥‡à¤‚ ConfigMap à¤•à¥à¤¯à¤¾ à¤¹à¥‹ à¤¸à¤•à¤¤à¤¾ à¤¹à¥ˆ? (Real Use Cases)
âœ… 1. API URLs / Endpoints

à¤¹à¤° bank à¤•à¥‡ à¤ªà¤¾à¤¸ à¤…à¤²à¤— microservices à¤¹à¥‹à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤
Example ConfigMap:

apiVersion: v1
kind: ConfigMap
metadata:
  name: banking-config
data:
  ACCOUNT_SERVICE_URL: "https://accounts.prod.bank.com"
  PAYMENT_SERVICE_URL: "https://payments.prod.bank.com"
  FRAUD_SERVICE_URL: "https://fraud.prod.bank.com"


âœ… 2. Logging Configuration

Banks heavy logging à¤•à¤°à¤¤à¥‡ à¤¹à¥ˆà¤‚ (SIEM tools: Splunk, ELK etc.)
data:
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "JSON"

âœ… 3. Feature Flags (Enable/Disable features)

Example:
data:
  ENABLE_UPI: "true"
  ENABLE_NETBANKING: "false"

âœ… 4. Database Settings (Non-secret part only)

âš  Password à¤•à¤­à¥€ ConfigMap à¤®à¥‡à¤‚ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹à¤¤à¤¾ (Secret à¤®à¥‡à¤‚ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆ)
data:
  DB_HOST: "db.prod.bank.local"
  DB_PORT: "5432"
  DB_NAME: "customerdb"

âœ… 5. Rules & Policies (AML/KYC/Compliance)
data:
  KYC_MIN_AGE: "18"
  MAX_DAILY_TRANSFER_LIMIT: "200000"

âœ… 6. Service Configuration (Timeouts, Retries)
data:
  TIMEOUT: "30s"
  RETRY_COUNT: "3"

ðŸš« Banking environment me ConfigMap me kya nahi hota?

Password âŒ

Certificates âŒ

Tokens âŒ

Private keys âŒ

Account PIN âŒ

Customer sensitive data âŒ

Ye sab Secrets me hota à¤¹à¥ˆ, ConfigMap me à¤¨à¤¹à¥€à¤‚à¥¤



ðŸ¦ BANKING-DOMAIN CONFIGMAP PRACTICAL (END-TO-END)

Isme hum create karenge:

âœ” Banking-style config file (example: API URLs, limits)
âœ” Usse ConfigMap banayenge
âœ” Deployment me use karenge
âœ” Pod ke andar bank config verify karenge

ðŸ”¹ PART 1 â€” Banking configuration file create karo

Banks microservices me mostly JSON/Properties file hoti hai.

Example file:

mkdir -p /home/student/banking/

cat > /home/student/banking/app-config.properties <<EOF
ACCOUNT_SERVICE_URL=https://accounts.prod.bank.com
PAYMENT_GATEWAY=https://payment.prod.bank.com
MAX_DAILY_TRANSFER_LIMIT=200000
KYC_REQUIRED=true
CUSTOMER_SUPPORT=1800-123-456
EOF


Check:

cat /home/student/banking/app-config.properties

ðŸ”¹ PART 2 â€” Banking ConfigMap create karna
oc create configmap banking-config \
  --from-file=/home/student/banking/app-config.properties \
  -n publish

oc get cm -n publish
oc describe cm banking-config -n publish


ðŸ”¹ PART 3 â€” Banking Application ka Deployment (simple)

bank-app.yaml

apiVersion: apps/v1
kind: Deployment
metadata:
  name: bank-app
  namespace: publish
spec:
  replicas: 1
  selector:
    matchLabels:
      app: bank-app
  template:
    metadata:
      labels:
        app: bank-app
    spec:
      containers:
      - name: bank-app
        image: nginx

oc apply -f bank-app.yaml


ðŸ”¹ PART 4 â€” ConfigMap ko Deployment me mount karna

Banking me mounted configs mostly /opt/app/config/ ya /config folder me hoti hai.

Mount path use karenge: /bank-config

oc set volume deploy/bank-app \
  --add \
  --name=bank-config-vol \
  --type=configmap \
  --configmap-name=banking-config \
  --mount-path=/bank-config \
  -n publish


ðŸ”¹ PART 5 â€” Pod ke andar jaake verify karo

Pod list:

oc get pod -n publish


Enter inside:

oc exec -it <pod-name> -n publish -- sh

cd /bank-config
ls
cat app-config.properties
Output (Real Banking style):

ACCOUNT_SERVICE_URL=https://accounts.prod.bank.com
PAYMENT_GATEWAY=https://payment.prod.bank.com
MAX_DAILY_TRANSFER_LIMIT=200000
KYC_REQUIRED=true
CUSTOMER_SUPPORT=1800-123-456
